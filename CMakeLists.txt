cmake_minimum_required(VERSION 3.22)
project(Pro VERSION 0.1 LANGUAGES CXX)

# Set C++ standard
set(CMAKE_CXX_STANDARD 20)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_EXPORT_COMPILE_COMMANDS ON)

# Use Conan toolchain file (corrected path)
if(EXISTS "${CMAKE_CURRENT_BINARY_DIR}/generators/conan_toolchain.cmake")
    include("${CMAKE_CURRENT_BINARY_DIR}/generators/conan_toolchain.cmake")
else()
    message(FATAL_ERROR " ${CMAKE_CURRENT_BINARY_DIR} Could not find conan_toolchain.cmake. Run 'conan install ..' first.")
endif()

# Find Eigen (generated by Conan)
find_package(Eigen3 REQUIRED)
find_package(embree 4 REQUIRED)

# Executable
add_executable(Pro src/main.cpp)

# Link Eigen
target_link_libraries(Pro PRIVATE Eigen3::Eigen embree::embree)
